# 🧠 O3 Chat Agent Conversation

**Agent ID:** `test2`  
**Model:** `o3`  
**Exported:** 2025-08-29 02:41:51  

## 📋 Table of Contents

1. [👤 User - 02:41:31](#message-1) - give me a python code for snake game
2. [🤖 Assistant - 02:41:41](#message-2) - Below is a compact but full-featured implementatio...

---

## 👤 User <a id="message-1"></a>

**Time:** 2025-08-29 02:41:31  
**Length:** 36 characters  

> give me a python code for snake game

---

## 🤖 Assistant <a id="message-2"></a>

**Time:** 2025-08-29 02:41:41  
**Length:** 5007 characters  

Below is a compact but full-featured implementation of the classic Snake game written in Python with the Pygame library.  
Save it as snake.py, make sure you have Pygame installed (`pip install pygame`), and run with `python snake.py`.

```python
import pygame, sys, random

# ── CONFIGURATION ────────────────────────────────────────────────────────────
CELL_SIZE      = 20                      # Width/height of a single square
GRID_WIDTH     = 30                      # Number of cells horizontally
GRID_HEIGHT    = 20                      # Number of cells vertically
FPS            = 10                      # Game speed (frames per second)

# Derived constants
WINDOW_WIDTH   = GRID_WIDTH  * CELL_SIZE
WINDOW_HEIGHT  = GRID_HEIGHT * CELL_SIZE

# Colors
BLACK  = (  0,   0,   0)
WHITE  = (255, 255, 255)
GREEN  = (  0, 255,   0)
D_GREEN= (  0, 155,   0)
RED    = (255,   0,   0)
GRAY   = ( 40,  40,  40)

# ── INITIALIZATION ──────────────────────────────────────────────────────────
pygame.init()
screen  = pygame.display.set_mode((WINDOW_WIDTH, WINDOW_HEIGHT))
clock   = pygame.time.Clock()
font    = pygame.font.SysFont(None, 36)
pygame.display.set_caption("Snake")

# ── HELPER FUNCTIONS ────────────────────────────────────────────────────────
def draw_cell(pos, color):
    x, y = pos
    rect = pygame.Rect(x * CELL_SIZE, y * CELL_SIZE, CELL_SIZE, CELL_SIZE)
    pygame.draw.rect(screen, color, rect)

def random_free_position(snake):
    while True:
        pos = (random.randrange(GRID_WIDTH), random.randrange(GRID_HEIGHT))
        if pos not in snake:
            return pos

def draw_grid():
    for x in range(0, WINDOW_WIDTH, CELL_SIZE):
        pygame.draw.line(screen, GRAY, (x, 0), (x, WINDOW_HEIGHT))
    for y in range(0, WINDOW_HEIGHT, CELL_SIZE):
        pygame.draw.line(screen, GRAY, (0, y), (WINDOW_WIDTH, y))

def show_text(text, color, center):
    surface = font.render(text, True, color)
    rect = surface.get_rect(center=center)
    screen.blit(surface, rect)

# ── GAME LOOP ───────────────────────────────────────────────────────────────
def main():
    snake      = [(GRID_WIDTH//2, GRID_HEIGHT//2)]
    direction  = (1, 0)                       # Start moving right
    apple      = random_free_position(snake)
    growing    = False
    score      = 0

    while True:
        # ── INPUT ───────────────────────────────────────────────────────────
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit(); sys.exit()
            elif event.type == pygame.KEYDOWN:
                if event.key in (pygame.K_UP, pygame.K_w)    and direction != (0,  1):
                    direction = (0, -1)
                if event.key in (pygame.K_DOWN, pygame.K_s)  and direction != (0, -1):
                    direction = (0,  1)
                if event.key in (pygame.K_LEFT, pygame.K_a)  and direction != (1,  0):
                    direction = (-1, 0)
                if event.key in (pygame.K_RIGHT, pygame.K_d) and direction != (-1, 0):
                    direction = (1,  0)
                if event.key == pygame.K_r and game_over:    # Restart on 'R'
                    return

        # ── UPDATE ──────────────────────────────────────────────────────────
        head_x, head_y = snake[0]
        dx, dy         = direction
        new_head       = ((head_x + dx) % GRID_WIDTH, (head_y + dy) % GRID_HEIGHT)

        # Collision with self?
        game_over = new_head in snake

        if game_over:
            screen.fill(BLACK)
            show_text("GAME OVER", RED,    (WINDOW_WIDTH//2, WINDOW_HEIGHT//2 - 20))
            show_text(f"Score: {score}", WHITE,(WINDOW_WIDTH//2, WINDOW_HEIGHT//2 + 20))
            show_text("Press R to Restart", GRAY,(WINDOW_WIDTH//2, WINDOW_HEIGHT//2 + 60))
            pygame.display.flip()
            clock.tick(3)
            continue  # Freeze until user presses R or exits

        snake.insert(0, new_head)
        if new_head == apple:
            score   += 1
            apple    = random_free_position(snake)
            growing  = True
        if not growing:
            snake.pop()
        growing = False

        # ── DRAW ────────────────────────────────────────────────────────────
        screen.fill(BLACK)
        draw_grid()
        for segment in snake:
            draw_cell(segment, GREEN if segment == snake[0] else D_GREEN)
        draw_cell(apple, RED)
        show_text(str(score), WHITE, (30, 20))

        pygame.display.flip()
        clock.tick(FPS)

# ── ENTRY POINT ─────────────────────────────────────────────────────────────
if __name__ == "__main__":
    while True:
        main()    # Allows restart without having to relaunch the script
```

Controls  
• Arrow keys or WASD – move the snake  
• The snake wraps around the edges (toggle off by removing the “% GRID_WIDTH/HEIGHT” parts if you want wall collisions).  
• When you collide with yourself the game displays “GAME OVER”; press `R` to restart or close the window to quit.

---

*Generated by OpenAI O3 Chat Agent • 2025-08-29 02:41:51*
